# AI Agent Configuration for Task Orchestrator
# This file maps task characteristics to specialized AI agents
#
# For detailed documentation, see: docs/agent-integration.md
#
# Recommended section tags:
#   - requirements: What needs to be built
#   - technical-approach: How to build it
#   - implementation: Implementation details
#   - testing-strategy: Testing approach
#   - context: Background information
#   - documentation: User-facing docs

# Parallel Processing Configuration
# Enables orchestrators to launch multiple Task Manager agents simultaneously
# for independent tasks, dramatically reducing feature completion time.
parallelProcessing:
  # Maximum number of tasks that can be processed in parallel
  # Feature Manager will recommend up to this many unblocked tasks per batch
  maxParallelTasks: 5

  # Agents that support parallel coordination workflows
  capabilities:
    # Feature Manager - Coordinates multi-task features with parallel execution
    - agent: Feature Architect
      supportsParallel: true
      batchSize: 5
      modes: [START, CONTINUE, END]
      description: "Recommends batches of unblocked tasks for parallel execution"

    # Task Manager - Routes tasks to specialists (can be launched in parallel)
    - agent: Task Manager
      supportsParallel: true
      concurrent: true
      description: "Multiple instances can run concurrently for independent tasks"

    # Planning Specialist - Creates task breakdowns with dependency metadata
    - agent: Planning Specialist
      supportsParallel: false
      description: "Creates dependency-aware task breakdowns for parallel execution"

# Map workflow activities to agents
# Agent names must match Claude Code subagent_type format (Proper Case with spaces)
workflowPhases:
  feature-authoring: Feature Architect
  bug-triage: Bug Triage Specialist
  task-breakdown: Planning Specialist
  documentation: Technical Writer
  review: Technical Writer

# Map task tags to specialized agents
# Agents will be recommended based on task tags matching these patterns
# section_tags specify which section tags the agent should query for efficient context
tagMappings:
  - task_tags: [backend, api, service, kotlin, rest]
    agent: Backend Engineer
    section_tags: [requirements, technical-approach, implementation]

  - task_tags: [frontend, ui, react, vue, angular, web]
    agent: Frontend Developer
    section_tags: [requirements, technical-approach, design, ux]

  - task_tags: [database, migration, schema, sql, flyway]
    agent: Database Engineer
    section_tags: [requirements, technical-approach, data-model]

  - task_tags: [testing, test, qa, quality, coverage]
    agent: Test Engineer
    section_tags: [requirements, testing-strategy, acceptance-criteria]

  - task_tags: [documentation, docs, user-docs, api-docs, guide, readme]
    agent: Technical Writer
    section_tags: [requirements, context, documentation]

  - task_tags: [bug, bugfix, regression, defect, issue]
    agent: Bug Triage Specialist
    section_tags: [bug-report, reproduction, impact]

  - task_tags: [feature-creation, feature-authoring, requirements-gathering, concept]
    agent: Feature Architect
    section_tags: [context, requirements, business]

  - task_tags: [planning, task-breakdown, specification, architecture, design]
    agent: Planning Specialist
    section_tags: [context, requirements, technical-approach]

# Priority order when multiple tags match (first match wins)
tagPriority:
  - bug
  - database
  - backend
  - frontend
  - testing
  - documentation
  - planning

# Entity type specific mappings
entityTypes:
  FEATURE:
    # Feature creation and structuring
    authoring: Feature Architect
    # Task breakdown from feature
    breakdown: Planning Specialist

  TASK:
    # Tasks use tag-based selection during implementation
    # No specific agent for general tasks (uses main Claude Code instance)
    fallback: null
